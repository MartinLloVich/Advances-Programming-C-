// proceso2.c#include <stdio.h>#include <stdlib.h>#include <string.h>#include <time.h>#include <sys/types.h>#include <sys/ipc.h>#include <sys/shm.h>#include "common.h"int main() {    int shmid;    datos *zona_comun;    // Crear/obtener zona de memoria compartida    shmid = shmget(CLAVE_SHM, sizeof(datos), IPC_CREAT | 0666);    if (shmid == -1) {        perror("Error en shmget");        exit(EXIT_FAILURE);    }    // Conectar a la memoria compartida    zona_comun = (datos *) shmat(shmid, NULL, 0);    if (zona_comun == (void *) -1) {        perror("Error en shmat");        exit(EXIT_FAILURE);    }    // Generar un número aleatorio entre 0 y 100    srand(time(NULL));  // Semilla para generación aleatoria basada en el tiempo actual    int numero_secreto = rand() % 101;  // Número aleatorio entre 0 y 100    printf("Proceso 2: El número secreto es %d\n", numero_secreto);    while (1) {        // Espera activa hasta que sea el turno del proceso 2        while (zona_comun->turno == 1) {}        // Es mi turno; leo el intento del proceso 1        int intento = zona_comun->intento;        printf("Proceso 2: Proceso 1 intentó con el número %d\n", intento);        // Comparar intento con el número secreto y responder        if (intento < numero_secreto) {            strcpy(zona_comun->respuesta, "mayor");        } else if (intento > numero_secreto) {            strcpy(zona_comun->respuesta, "menor");        } else {            strcpy(zona_comun->respuesta, "acertado");            printf("Proceso 2: ¡El proceso 1 acertó el número! Finalizando...\n");            break; // Termina el ciclo al ser adivinado el número        }        // Cedo el turno al proceso 1        zona_comun->turno = 1;    }    // Desconectar y eliminar la memoria compartida antes de finalizar    shmdt(zona_comun);    shmctl(shmid, IPC_RMID, 0); // Liberar la zona de memoria compartida    return 0;}